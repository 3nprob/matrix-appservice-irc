Fix a bug where a user leaving with a reason would cause them to join then leave
